---
- name: "Converge"
  hosts: "all"
  tasks:
    # replace these tasks with whatever you find suitable to test
    - name: "Copy something to test use of synchronize module"
      ansible.builtin.copy:
        src: "/etc/hosts"
        dest: "/tmp/hosts-from-controller"
        mode: 0700

    - name: "Include labocbz.install_mariadb"
      tags:
        - "labocbz.install_mariadb"
      vars:
        install_mariadb_confs_path: "{{ inv_install_mariadb_confs_path }}"
        install_mariadb_config_path: "{{ inv_install_mariadb_config_path }}"
        install_mariadb_ssl_path: "{{ inv_install_mariadb_ssl_path }}"
        install_mariadb_log_path: "{{ inv_install_mariadb_log_path }}"
        install_mariadb_port: "{{ inv_install_mariadb_port }}"
        install_mariadb_bind_address: "{{ inv_install_mariadb_bind_address }}"
        install_mariadb_server_id: "{{ inv_install_mariadb_server_id }}"
        install_mariadb_max_connections: "{{ inv_install_mariadb_max_connections }}"
        install_mariadb_table_cache: "{{ inv_install_mariadb_table_cache }}"
        install_mariadb_thread_concurrency: "{{ inv_install_mariadb_thread_concurrency }}"
        install_mariadb_general_log_file: "{{ inv_install_mariadb_general_log_file }}"
        install_mariadb_general_log: "{{ inv_install_mariadb_general_log }}"
        install_mariadb_log_error: "{{ inv_install_mariadb_log_error }}"
        install_mariadb_log_bin: "{{ inv_install_mariadb_log_bin }}"
        install_mariadb_expire_logs_days: "{{ inv_install_mariadb_expire_logs_days }}"
        install_mariadb_max_binlog_size: "{{ inv_install_mariadb_max_binlog_size }}"
        install_mariadb_ssl: "{{ inv_install_mariadb_ssl }}"
        install_mariadb_ssl_client_auth: "{{ inv_install_mariadb_ssl_client_auth }}"
        install_mariadb_ssl_ca: "{{ inv_install_mariadb_ssl_ca }}"
        install_mariadb_ssl_cert: "{{ inv_install_mariadb_ssl_cert }}"
        install_mariadb_ssl_key: "{{ inv_install_mariadb_ssl_key }}"
        install_mariadb_charset: "{{ inv_install_mariadb_charset }}"
        install_mariadb_collation: "{{ inv_install_mariadb_collation }}"
      ansible.builtin.include_role:
        name: "labocbz.install_mariadb"
